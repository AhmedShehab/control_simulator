{% extends 'main/layout.html' %}
{% load static %}
{% block head %}
<title>Servomotor Simulator</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.bundle.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.bundle.min.js"></script>
<link href="{% static 'main/css/cred.css' %}" rel="stylesheet">
<style>
        .flex-child {
                flex: 0 60em;
                border: 2px solid green;
        }

        .flex-child:first-child {
                margin-right: 20px;
        }
</style>
{% endblock head %}
{% block body %}
<div class="flex-container" style="display: flex;">
        <div class="flex-child" id="simulatorForm" style="flex:1;padding:1% 10% 1% 1%; text-align: center;">
                <form class="cred_form">
                        <h2 style=" display: inline;">Controller: </h2>
                        <select class="form-select form-select-lg mb-3 dropdown" aria-label=".form-select-lg example"
                                onchange="display()" id="selector">
                                <option selected>No selected</option>
                                <option value="P">P</option>
                                <option value="PI">PI</option>
                                <option value="PD">PD</option>
                                <option value="PID">PID</option>
                                <option value="lag">Lag</option>
                                <option value="lead">Lead</option>
                                <option value="laglead">Lag-Lead</option>
                        </select>
                        {% comment %} <label for="disturbanceLevel">Disturbance level</label>
                        <select class="cred" name="disturbanceLevel" id="disturbanceLevel" required>
                                <option value="level1">Level 1</option>
                                <option value="level2">Level 2</option>
                                <option value="level3">Level 3</option>
                        </select> {% endcomment %}
                        <div id="P" style="display: none;">
                                <form class="cred_form" action="{% url 'test' %}" method="POST">
                                        {% csrf_token %}
                                        <h5 style="display: inline;">P:</h5>
                                        <input class="cred" type="number" step="0.00001"
                                                required placeholder="Enter the value" name="p">
                                        <br>
                                </form>
                        </div>
                        <div id="PI" style="display: none;">
                                <form class="cred_form" action="{% url 'test' %}" method="POST">
                                        {% csrf_token %}
                                        <h5>P:</h5>
                                        <input class="cred" type="number" step="0.00001"
                                                required placeholder="Enter the value" name="p">
                                        <br>
                                        <h5>I:</h5>
                                        <input class="cred" type="number" step="0.00001"
                                                required placeholder="Enter the value" name="i">
                                        <br>
                                </form>
                        </div>
                        <div id="PD" style="display: none;">
                                <form class="cred_form" action="{% url 'test' %}" method="POST">
                                        {% csrf_token %}
                                        <h5>P:</h5>
                                        <input class="cred" type="number" step="0.00001"
                                                required placeholder="Enter the value" name="p">
                                        <br>
                                        <h5>D:</h5>
                                        <input class="cred" type="number" step="0.00001"
                                                required placeholder="Enter the value" name="d">
                                        <br>
                                </form>
                        </div>
                        <div id="PID" style="display: none;">
                                <form class="cred_form" action="{% url 'test' %}" method="POST">
                                        {% csrf_token %}
                                        <h5>P:</h5>
                                        <input class="cred" type="number" step="0.00001"
                                                required placeholder="Enter the value" name="p">
                                        <br>
                                        <h5>I:</h5>
                                        <input class="cred" type="number" step="0.00001"
                                                required placeholder="Enter the value" name="i">
                                        <br>
                                        <h5>D:</h5>
                                        <input class="cred" type="number" step="0.00001"
                                                required placeholder="Enter the value" name="d">
                                        <br>
                                </form>
                        </div>
                        <div id="lag" style="display: none;">
                                <form class="cred_form" action="{% url 'test' %}" method="POST">
                                        {% csrf_token %}
                                        <h5>Zero:</h5>
                                        <input class="cred" type="number" step="0.00001"
                                                required placeholder="Enter the value" name="zero">
                                        <br>
                                        <h5>Pole:</h5>
                                        <input class="cred" type="number" step="0.00001"
                                                required placeholder="Enter the value" name="pole">
                                        <br>
                                        <h5>Gain:</h5>
                                        <input class="cred" type="number" step="0.00001"
                                                required placeholder="Enter the value" name="gain">
                                        <br>
                                </form>
                        </div>
                        <div id="lead" style="display: none;">
                                <form class="cred_form" action="{% url 'test' %}" method="POST">
                                        {% csrf_token %}
                                        <h5>Zero:</h5>
                                        <input class="cred" type="number" step="0.00001"
                                                placeholder="Enter the value" name="zero" required>
                                        <br>
                                        <h5>Pole:</h5>
                                        <input class="cred" type="number" step="0.00001"
                                                placeholder="Enter the value" name="pole" required>
                                        <br>
                                        <h5>Gain:</h5>
                                        <input class="cred" type="number" step="0.00001"
                                                placeholder="Enter the value" name="gain" required>
                                        <br>
                                </form>
                        </div>
                        <button class="button" type="submit" name="start" value="1"
                                onclick="sim({{speed_samples}});">Start</button>
                        <input class="button" type="reset" value="Reset">
                        <br><br>
                        <button class="button" type="submit" name="Submit">Submit</button>
                </form>
        </div>
        <div class="flex-child">
                <div >
                        <canvas id="myChart"></canvas>
                </div>
        </div>
</div>
<script src=" {% static 'main/script/chart.js' %}"></script>
{% endblock body %}