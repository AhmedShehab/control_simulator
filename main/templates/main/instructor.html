{% extends 'main/layout.html' %}
{% load static %}
{% block head %}
<title>Instructor Profile</title>
<link href="{% static 'main/css/profile.css' %}" rel="stylesheet">
<link href="{% static 'main/css/cred.css' %}" rel="stylesheet">
{% endblock head %}
{% block body %}
<div class="assignPosition"id="assignmentForm">
    <div class="assign_child">
        <form class="cred_form" action="{% url 'instructor' %}" method="POST">
            <h1 style="color: green;">New Assignment</h1>
            {% csrf_token %}
            <select class="cred" placeholder="Course" name="course" required>
                <option disabled selected value="">Select a Course</option>
                {% for course in courses %}
                <option value="{{course}}">{{course}}</option>
                {% endfor %}
            </select>
            <input class="cred" type="text" placeholder="Subject" name="assignmentSubject" required>
            <br>
            <span>
                <select class="cred" placeholder="Simulator" name="sim" required>
                    <option disabled selected value="">Select a Simulator</option>
                    {% for simulator in simulators %}
                    <option value="{{simulator}}">{{simulator}}</option>
                    {% endfor %}
                </select>
                <select class="cred" required name="controller">
                    <option selected disabled value="">Choose Controler</option>
                    <option value="P">P</option>
                    <option value="PI">PI</option>
                    <option value="PD">PD</option>
                    <option value="PID">PID</option>
                    <option value="lag">Lag</option>
                    <option value="lead">Lead</option>
                    <option value="laglead">Lag-Lead</option>
                </select>
            </span>
            <br>
            <input class="cred" type="date" placeholder="dueDate" name="due" required>
            <br>
            <select class="cred" name="grade" id="grade" onchange="gradeSelect();" required>
                <option value="" selected disabled>Select Grading option</option>
                <option value="auto">Auto grade<br>
                <option value="receive">Receive Values<br>
            </select>
            <br>
            <div class="grade" id="grade2" style="display: none;">
                <h6>Transient and steady state response</h6>
                <div class="input-group input-group-sm">
                    <label for="rise">Rise Time:</label>
                    <input type="number" class="form-control" aria-label="Sizing example input"
                        aria-describedby="inputGroup-sizing-sm" name="rise" id="rise">
                    <div class="input-group-append" id="inputGroup-sizing-sm">
                        <span class="input-group-text">Seconds</span>
                    </div>
                </div>
                <div class="input-group input-group-sm">
                    <label for="settle">Settling Time:</label>
                    <input type="number" class="form-control" aria-label="Sizing example input"
                        aria-describedby="inputGroup-sizing-sm" name="settle"  id="settle">
                    <div class="input-group-append" id="inputGroup-sizing-sm">
                        <span class="input-group-text">Seconds</span>
                    </div>
                </div>
                <div class="input-group input-group-sm">
                    <label for="overshoot">Percent Overshoot:</label>
                    <input type="number" class="form-control" aria-label="Sizing example input"
                        aria-describedby="inputGroup-sizing-sm" name="overshoot" id="overshoot">
                    <div class="input-group-append" id="inputGroup-sizing-sm">
                        <span class="input-group-text">%</span>
                    </div>
                </div>
                <div class="input-group input-group-sm">
                    <label for="error">Steady State Error:</label>
                    <input type="number" class="form-control" aria-label="Sizing example input"
                        aria-describedby="inputGroup-sizing-sm" name="error" id="error">
                </div>
            </div>
            <div class="grade" id="grade3" style="display: none;">
                <textarea style="border: 1px green solid; padding: 5px; border-radius: 5px;" name="desc" cols="50" rows="5"placeholder="Describtion"></textarea>
            </div>
            {% if message %}
            <h5 style="color: red;">{{message}}</h5>
            {% endif %}
            <button type="button" class="button" onclick="closeAssignmentForm()">Cancel</button>
            <button class="button" type="submit">Save</button>
        </form>
    </div>
</div>
<div class="assignPosition" style="display: none;" id="courseForm">
    <div class="assign_child">
        <form class="cred_form" action="{% url 'instructor' %}" method="POST">
            <h1 style="color: green;">New Course</h1>
            {% csrf_token %}
            <input class="cred" type="text" placeholder="courseName" name="courseName" required>
            <br>
            {% if message %}
            <h5 style="color: red;">{{message}}</h5>
            {% endif %}
            <button type="button" class="button" onclick="closeCourseForm()">Cancel</button>
            <button class="button" type="submit">Save</button>
        </form>
    </div>
</div>

<div class="profile" style="display:flex;">
    <span><img src="{% static 'main/images/profile.png' %}" alt="instructor's Photo"
            style="width:100px;height:100px"></span>
    <span>
        <h4>{{instructor.credentials.first_name}} {{instructor.credentials.last_name}}</h4>
        <h4>Major: <small style="color: black;">{{instructor.major}}</small></h4>
    </span>
</div>
<div class="profile" style="display:flex;" id="assignment">
    <span onclick="openCourseForm()"><img src="{% static 'main/images/plus.png' %}" alt="instructor's Photo"
            style="width:25px;height:25px"></span>
    <span onclick="openCourseForm()">
        <h6>New Course</h6>
    </span>
    <span onclick="openAssignmentForm()"><img src="{% static 'main/images/plus.png' %}" alt="instructor's Photo"
            style="width:25px;height:25px"></span>
    <span onclick="openAssignmentForm()">
        <h6>New Assignment</h6>
    </span>
</div>
<div class="profile" style="margin-top: -10px;">
    <form action="{% url 'instructor' %}" method="POST">
        {% csrf_token %}
        <h4>See Student Submissions:</h4>
        <select onchange="courseSelector({{courses}});" id="courseSelect" name="course"
            style=" border: green solid 1px; border-radius: 10px;outline:none">
            <option disabled selected>Select a Course</option>
            {% for course,value in courseAssignment.items %}
            <option value="{{course}}">{{course}}</option>
            {% endfor %}
        </select>
        <select onchange="assignmentsSubmitted()" name="assign" id="assignmentSelect"
            style=" border: green solid 1px; border-radius: 10px;outline:none">
            <option value="Select an Assignment" disabled selected>Select an Assignment</option>
            {% for course,values in courseAssignment.items %}
            {% for value in values %}
            <option style="display: none;" class="{{course}}" value="{{value}}">{{value}}</option>
            {% endfor %}
            {% endfor %}
        </select>
    </form>
</div>
<table class="table2">
    <tr>
        <th>Assignment</th>
        <th>Students</th>
        <th>Score</th>
        <th>Date Submitted / Due</th>
    </tr>
    {% for key,values in assignmentSubmission.items %}
    <tr class="tr" id="{{key}}" style="display: none;">
        {% if values %}
        {% for value in values %}
        <td>{{value.assignment.subject}}</td>
        <td>{{value.student}}</td>
        <td>{{value.score}}/{{value.assignment.score}}</td>
        <td>{{value.dateSubmitted}}/{{value.assignment.dueDate}}</td>
        {% endfor %}
        {% else %}
        <td>
            <h3>No Submissions Yet</h3>
        </td>
        {% endif %}
    </tr>
    {% endfor %}
</table>
<script src="{% static 'main/script/instructor.js' %}"></script>
{% endblock body %}